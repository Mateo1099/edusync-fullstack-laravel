<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"/><title>Mis Calificaciones - EduSync</title><link rel="stylesheet" href="styles/main.css"><script src="scripts/api-integration.js"></script><script src="scripts/header.js"></script><style>.cal-panel{background:#ffffffeb;padding:18px 22px;border-radius:16px;box-shadow:0 8px 30px -10px rgba(0,0,0,.3)}table{width:100%;border-collapse:collapse;font-size:.85rem}th,td{padding:8px 10px;border-bottom:1px solid #e2e8ea}th{background:#f5fafb;text-align:left}tr:hover{background:#f9fdfd}.badge{display:inline-block;padding:2px 6px;border-radius:6px;font-size:.65rem;font-weight:600;background:var(--c-secondary);color:#fff}</style></head><body><div class="eds-container"><h1 style="color:#fff;margin:18px 0 16px;">Mis Calificaciones</h1><div class="cal-panel"><table><thead><tr><th>Curso</th><th>Tarea</th><th>Calificaci√≥n</th><th>Fecha</th></tr></thead><tbody id="grades-body"><tr><td colspan="4">Cargando...</td></tr></tbody></table></div></div><script>document.addEventListener('DOMContentLoaded',async()=>{const api=window.eduSyncAPI;const ok=await api.verifyToken();if(!ok||api.user.role!=='student'){location.href='login.html';return;}try{const grades=await api.getMyGrades();const tbody=document.getElementById('grades-body');tbody.innerHTML='';if(!Array.isArray(grades)||grades.length===0){tbody.innerHTML='<tr><td colspan="4">Sin calificaciones.</td></tr>';return;}grades.forEach(g=>{const tr=document.createElement('tr');tr.innerHTML=`<td>${g.course_name||g.course?.name||'--'}</td><td>${g.assignment_title||g.assignment?.title||'--'}</td><td><span class="badge">${g.score!=null?g.score:'--'}</span></td><td>${g.created_at?new Date(g.created_at).toLocaleDateString():'--'}</td>`;tbody.appendChild(tr);});}catch(e){document.getElementById('grades-body').innerHTML='<tr><td colspan="4">Error al cargar.</td></tr>';}});</script></body></html>